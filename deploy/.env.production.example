# Domain + TLS
DOMAIN=kitchorify.com
ACME_EMAIL=admin@example.com

# Your public app origin (no hash/path)
CORS_ORIGINS=https://kitchorify.com

# Public URL for email links (no trailing slash recommended)
# Required for email verification + password reset links
APP_PUBLIC_URL=https://kitchorify.com

# Frontend build-time service base URLs (same-origin paths recommended)
VITE_API_BASE_URL=/api
VITE_STRIPE_BACKEND_URL=https://kitchorify.com/stripe
# Print server is NOT exposed by default on the VPS.
# Recommended: run print server on the restaurant LAN/VPN.
# If you intentionally expose print server via the reverse proxy, you can set:
# VITE_PRINT_SERVER_URL=https://kitchorify.com/print

# Optional: explicit service origin allowlist (origin-only, no paths)
# If not set, prod default allowlist is same-origin only.
# VITE_SERVICE_ORIGIN_ALLOWLIST=https://kitchorify.com

# Cloudflare Turnstile (login/register bot protection)
# Frontend site key is baked into the web build; backend secret is runtime.
# VITE_TURNSTILE_SITE_KEY=0x4AAAAA... (example)
TURNSTILE_ENABLED=true
TURNSTILE_SECRET_KEY=turnstile-secret

# Keep false/empty in prod (only set true if you intentionally allow http services)
# VITE_ALLOW_INSECURE_SERVICES=true

# Stripe server secrets (DO NOT COMMIT REAL VALUES)
STRIPE_SECRET_KEY=sk_live_...
STRIPE_PRICE_ID_MONTHLY=price_...
# Optional but recommended if you process webhooks
# STRIPE_WEBHOOK_SECRET=whsec_...

# Optional upstream API keys (kept server-side, injected by Caddy to upstream)
# If set, server.cjs / printer-server.cjs will require x-api-key.
# STRIPE_API_KEY=change-me

# Print server (profile "print")
# PRINT_API_KEY=change-me

# Print transport defaults (only used if you enable the "print" profile)
# PRINT_TRANSPORT=stdout
# PRINTER_HOST=192.168.1.50
# PRINTER_PORT=9100
# PRINTER_NAME=EPSON_TM_T20

# Postgres (required for real production data)
POSTGRES_PASSWORD=change-me-long-random
POSTGRES_DB=kitchorify
POSTGRES_USER=kitchorify

# API database URL (Docker network hostname: postgres)
DATABASE_URL=postgresql://kitchorify:change-me-long-random@postgres:5432/kitchorify

# Backups (pg-backup service)
# - Backups are written to ./deploy/backups on the VPS.
# - IMPORTANT: sync this folder off-host for real disaster recovery.
# Cron format supported by the backup image (also supports @daily, @hourly etc.)
PG_BACKUP_SCHEDULE=@daily
PG_BACKUP_KEEP_DAYS=14
PG_BACKUP_KEEP_WEEKS=8
PG_BACKUP_KEEP_MONTHS=6

# Session TTL (days)
# SESSION_TTL_DAYS=30

# Email (MailerSend)
# Required for email verification + password reset
# Enable MailerSend if you want real emails in production.
MAILERSEND_ENABLED=true
MAILERSEND_API_KEY=ms_live_...
MAILERSEND_FROM_EMAIL=no-reply@kitchorify.com
MAILERSEND_FROM_NAME=Kitchorify

# Email TTLs (minutes)
EMAIL_VERIFICATION_TTL_MINUTES=60
PASSWORD_RESET_TTL_MINUTES=30

# MFA (TOTP)
MFA_ISSUER=Kitchorify
